var language = 'en';
//french
var frenchtrans = { 
"ESP3D for":"ESP3D pour",
"Value of auto-check must be between 0s and 99s !!":"La valeur de contr&ocirc;le doit &ecirc;tre entre 0s et 99s !!",
"Value of extruder velocity must be between1 mm/min and 9999 mm/min !":"La valeur de vitesse d'extrusion doit &ecirc;tre entre 1 mm/min et 9999 mm/min !",
"Value of filament length must be between 0.001 mm and 9999 mm !":"La valeur de distance d'extrusion doit &ecirc;tre entre 0.001 mm et 9999 mm !",
"cannot have '-', '#' char or be empty":"ne peut contenir les carat&egrave;res '-', '#'  ou &ecirc;tre vide",
"cannot have '-', 'e' char or be empty":"ne peut contenir les carat&egrave;res '-', 'e'  ou &ecirc;tre vide",
"Failed:":"Echec",
"File config / config.txt not found!":"Fichier config / config.txt non trouv&egrave;",
"File name cannot be empty!":"Le nom de fichier ne peut &ecirc;tre vide",
"Value must be ":"La valeur doit &ecirc;tre ",
"Value must be between 0 degres and 999 degres !":"La valeur doit &ecirc;tre entre 0 degr&egrave;s et 999 degr&egrave;s !",
"Value must be between 0% and 100% !":"La valeur doit &ecirc;tre entre 0% et 100% !",
"Value must be between 25% and 150% !":"La valeur doit &ecirc;tre entre 25% et 150% !",
"Value must be between 50% and 300% !":"La valeur doit &ecirc;tre entre 50% et 300%",
"XY feedrate value must be between 1 mm/min and 9999 mm/min !":"La valeur de l'acc&egrave;l&egrave;ration XY doit &ecirc;tre entre 1mm/min et 999mm/min !",
"Z feedrate value must be between 1 mm/min and 999 mm/min !":"La valeur de l'acc&egrave;l&egrave;ration Z doit &ecirc;tre entre 1mm/min et 999mm/min !",
" seconds":" secondes",
"Abort":"Stopper",
"auto-check every:":"Contr&ocirc;le toutes les:",
"auto-check position every:":"Contr&ocirc;le position toutes les:",
"Autoscroll":"D&eacute;filement auto",
"Bed":"Plateforme",
"Board":"Carte",
"Busy...":"Indisponible...",
"Camera":"Cam&eacute;ra",
"Cancel":"Annuler",
"Cannot get EEPROM content!":"Impossible d'obtenir le contenu de l'EEPROM",
"Clear":"Effacer",
"Close":"Fermer",
"Color":"Couleur",
"Commands":"Commandes",
"Communication locked by another process, retry later.":"Communication bloqu&eacute;e par un autre processus, essayez plus tard.",
"Communication locked!":"Communication bloqu&eacute;e!",
"Communications are currently locked, please wait and retry.":"Les communications sont actuellement bloqu&eacute;e, r&eacute;&eacute;ssayez plus tard!",
"Confirm deletion of directory: ":"Confirmez l'&eacute;ffacement du r&eacute;pertoire: ",
"Confirm deletion of file: ":"Confirmez l'&eacute;ffacement du fichier: ",
"Connecting ESP3D...":"Connection &agrave; ESP3D",
"Connection failed! is your FW correct?":"Impossible de se connecter! V&eacute;rifiez le micrologiciel",
"Controls":"Controles",
"Credits":"Cr&eacute;dits",
"Dashboard":"Tableau de bord",
"Data mofified":"Donn&eacute;es modifi&eacute;es",
"Do you want to save?":"Voulez-vous enregister?",
"enable second extruder":"activer second extrudeur",
"Error":"Erreur",
"ESP3D Filesystem":"Fichiers ESP3D",
"ESP3D Settings":"Param&egrave;tres ESP3D",
"ESP3D Status":"Etat ESP3D",
"ESP3D Update":"Mise &agrave; jour ESP3D",
"Extrude":"Extrusion",
"Extruder T0":"Extrudeur T0",
"Extruder T1":"Extrudeur T1",
"Extruders":"Extrudeurs",
"Fan (0-100%)":"Ventilateur (0-100%)",
"Feed (25-150%)":"Vitesse (25-150%)",
"Feedrate XY:":"Acc&eacute;l&eacute;ration XY:",
"Filename":"Fichier",
"Filter temperatures":"Filtrer temp&eacute;ratures",
"Firmware":"Micrologiciel",
"Flow (50-300%)":"D&eacute;bit (50-300%)",
"Heater T0":"Chauffage T0",
"Heater T1":"Chauffage T1",
"Help":"Aide",
"Icon":"Icone",
"Interface":"Interface",
"Join":"Connecter",
"Label":"Intitul&eacute;",
"List of available Access Points":"Points d'acc&egrave;s disponibles",
"Macro Editor":"Editeur de macro",
"mm":"mm",
"mm/min":"mm/min",
"Motors off":"Arr&ecirc;t Moteurs",
"Name":"Nom",
"Name:":"Nom:",
"Network":"R&eacute;seau",
"No SD card detected":"Pas de SD carte d&eacute;tect&eacute;e",
"No":"Non",
"Occupation:":"Occupation",
"Ok":"Ok",
"Options":"Options",
"Out of range":"Invalide",
"Please Confirm":"SVP Confirmez",
"Please enter directory name":"Entrez le nom du r&eacute;pertoire",
"Please wait...":"Patientez...",
"Printer configuration":"Configuration imprimante",
"Printer":"Imprimante",
"Progress":"Progression",
"Protected":"Prot&eacute;g&eacute;",
"Refresh":"Actualiser",
"Restart ESP3D":"Red&eacute;marrage ESP3D",
"Restarting ESP3D":"Red&eacute;marrage ESP3D",
"Restarting":"Red&eacute;marrage",
"Restarting, please wait....":"Red&eacute;marrage, patientez...",
"Retry":"R&eacute;&eacute;ssayer",
"Reverse":"Annuler",
"Save macro list failed!":"Echec enregistrement des macros",
"Save":"Enregistrer",
"Saving":"Enregistrement",
"Scanning":"Recherche",
"SD Files":"Fichiers de carte SD",
"sec":"sec",
"Send Command...":"Envoi Commande...",
"Send":"Envoyer",
"Set failed":"Echec enregistrement",
"Set":"Enregister",
"Signal":"Signal",
"Size":"Taille",
"SSID":"Identifiant",
"Target":"Emplacement",
"Temperatures":"Temp&eacute;ratures",
"Total:":"Total:",
"Type":"Type",
"Update Firmware ?":"MAJ Micrologiciel ?",
"Update is ongoing, please wait and retry.":"Mise &agrave; jour en cours, SVP attendez et r&eacute;essayez.",
"Update":"Mise &agrave; jour",
"Upload failed : ":"T&eacute;l&eacute;chargement annul&eacute;",
"Upload failed":"T&eacute;l&eacute;chargement annul&eacute;",
"Upload":"T&eacute;l&eacute;chargement",
"Uploading ":"T&eacute;l&eacute;chargement ",
"Upload done":"T&eacute;l&eacute;chargement termin&eacute;",
"Used:":"Utilis&eacute;:",
"Value | Target":"Actuel | Objectif",
"Value":"Valeur",
"Wrong data":"Donn&eacute;es invalides",
"Yes":"Oui"
};
//Spanish
var spanishtrans = {
    "ESP3D for":"ESP3D para",
"Value of auto-check must be between 0s and 99s !!":"&iexcl;El valor del auto-control tiene que estar entre 0s y 99s !",
"Value of extruder velocity must be between1 mm/min and 9999 mm/min !":"&iexcl;El valor de la velocidad del extrusor tiene que estar entre 1 mm/min y 9999 mm/min ! ",
"Value of filament length must be between 0.001 mm and 9999 mm !":"&iexcl;El valor de la longitud de extrusi&oacute;n de filamento tiene que estar entre 0,001 mm y 9999 mm.!",
"cannot have '-', '#' char or be empty":"No puede tener el car&aacute;cter '-', '#' o estar vac&iacute;o",
"cannot have '-', 'e' char or be empty":"No puede tener el car&aacute;cter 'e', '#' o estar vac&iacute;o",
"Failed:":"Fracaso",
"File config / config.txt not found!":"&iexcl;No se encontr&oacute; el archivo config / config.txt.!",
"File name cannot be empty!":"&iexcl;El nombre del archivo no puede estar vac&iacute;o!",
"Value must be ":"El valor  tiene que estar  ",
"Value must be between 0 degres and 999 degres !":"&iexcl;El valor tiene que estar entre 0 grados y 999 grados!",
"Value must be between 0% and 100% !":"&iexcl;El valor tiene que estar entre 0% y 100% !",
"Value must be between 25% and 150% !":"&iexcl;El valor tiene que estar entre 25% y 150% !",
"Value must be between 50% and 300% !":"&iexcl;El valor tiene que estar entre 50% y 300%",
"XY feedrate value must be between 1 mm/min and 9999 mm/min !":"&iexcl;El valor de avance XY tiene que estar entre 1mm/min y 999mm/min !",
"Z feedrate value must be between 1 mm/min and 999 mm/min !":"&iexcl;El valor de avance Z tiene que estar entre doit &ecirc;tre entre 1mm/min y 999mm/min !",
" seconds":" secondos",
"Abort":"Interrumpir",
"auto-check every:":"Comprobar cada:",
"auto-check position every:":"Comprobar  la posici&oacute;n cada:",
"Autoscroll":"Desplazamiento auto",
"Bed":"Base",
"Board":"Microcontrolador",
"Busy...":"Ocupado...",
"Camera":"C&aacute;mara",
"Cancel":"Cancelar",
"Cannot get EEPROM content!":"No se puede obtener contenido EEPROM!",
"Clear":"Borrar",
"Close":"Cerrar",
"Color":"Color",
"Commands":"Comandos",
"Communication locked by another process, retry later.":"Comunicaci&oacute;n bloqueada, espere",
"Communication locked!":"&iexcl;Comunicaci&oacute;n bloqueada!",
"Communications are currently locked, please wait and retry.":"Comunicaci&oacute;n bloqueada, espere y vuelva a intentarlo.",
"Confirm deletion of directory: ":"Confirmar eliminaci&oacute;n de carpeta:  ",
"Confirm deletion of file: ":"Confirmar eliminaci&oacute;n de archivo: ",
"Connecting ESP3D...":"Conexi&oacute;n a ESP3D",
"Connection failed! is your FW correct?":"&iexcl;La conexi&oacute;n fall&oacute;! &iquest;Es el FW correcto",
"Controls":"Controles",
"Credits":"Cr&eacute;ditos",
"Dashboard":"Tablero",
"Data mofified":"Cambio de datos",
"Do you want to save?":"	&iquest;Desea guardar ?",
"enable second extruder":"activar segundo extrusor",
"Error":"Error",
"ESP3D Filesystem":"Archivos ESP3D",
"ESP3D Settings":"Configuraci&oacute;n ESP3D",
"ESP3D Status":"Estado ESP3D",
"ESP3D Update":"Actualizaci&oacute;n ESP3D",
"Extrude":"Extrusi&oacute;n",
"Extruder T0":"Extrusor T0",
"Extruder T1":"Extrusor T1",
"Extruders":"Extrusores",
"Fan (0-100%)":"Ventilador (0-100%)",
"Feed (25-150%)":"Velocidad (25-150%)",
"Feedrate XY:":"Avance XY:",
"Filename":"Archivo",
"Filter temperatures":"Filtrar temperaturas",
"Firmware":"Firmware",
"Flow (50-300%)":"Flujo (50-300%)",
"Heater T0":"Calefactor T0",
"Heater T1":"Calefactor T1",
"Help":"Ayuda",
"Icon":"Representaci&oacute;n",
"Interface":"Interface",
"Join":"Unirse",
"Label":"Etiqueta",
"List of available Access Points":"Puntos de acceso disponibles",
"Macro Editor":"Macro editor",
"mm":"mm",
"mm/min":"mm/min",
"Motors off":"Apagar motores",
"Name":"Nombre",
"Name:":"Nombre:",
"Network":"Red",
"No SD card detected":"No se detecta la tarjeta SD",
"No":"No",
"Occupation:":"Ocupaci&oacute;n",
"Ok":"Ok",
"Options":"Opciones",
"Out of range":"No es v&aacute;lido",
"Please Confirm":"Por favor, confirma",
"Please enter directory name":"Por favor escriba el nombre de la carpeta",
"Please wait...":"Espere...",
"Printer configuration":"Configuraci&oacute;n de la impresora",
"Printer":"Impresora ",
"Progress":"Progreso",
"Protected":"Protegido",
"Refresh":"Actualizar",
"Restart ESP3D":"Reinicio ESP3D",
"Restarting ESP3D":"Reinicio ESP3D",
"Restarting":"Reinicio",
"Restarting, please wait....":"Reinicio, espere...",
"Retry":"Reintentar",
"Reverse":"Revocar",
"Save macro list failed!":"Fracaso de guardar la lista de macro",
"Save":"Guardar",
"Saving":"Guarda",
"Scanning":"Exploración",
"SD Files":"Archivos de tarjeta SD",
"sec":"sec",
"Send Command...":"Envia Comando...",
"Send":"Enviar",
"Set failed":"Fracaso guardar",
"Set":"Guardar",
"Signal":"Se&ntilde;al",
"Size":"Tama&ntilde;o",
"SSID":"Identificador",
"Target":"Localizaci&oacute;n",
"Temperatures":"Temperaturas",
"Total:":"Total:",
"Type":"Tipo",
"Update Firmware ?":"&iquest;Actualice el firmware ?",
"Update is ongoing, please wait and retry.":"Actualizaci&oacute;n en curso,  espere y vuelva a intentarlo.",
"Update":"Actualizaci&oacute;n",
"Upload failed : ":"Carga fracasado :",
"Upload failed":"Carga fracasado",
"Upload":"Cargar",
"Uploading ":"Carga ",
"Upload done":"Carga terminado",
"Used:":"Utilizado:",
"Value | Target":"Actual | Objetivo",
"Value":"Valor",
"Wrong data":"Informaci&oacute;n incorrecta",
"Yes":"S&iacute;"
    };
var germantrans = { 
"ESP3D for":"ESP3D für",
"Value of auto-check must be between 0s and 99s !!":"Der Wert des Auto-Checks muss zwischen 0s und 99s liegen !!",
"Value of extruder velocity must be between1 mm/min and 9999 mm/min !":"Der Wert der Extrudergeschwindigkeit muss zwischen 1 mm / min und 9999 mm / min liegen !",
"Value of filament length must be between 0.001 mm and 9999 mm !":"Der Wert der Filament Länge muss zwischen 0.001mm und 9999mm liegen !",
"cannot have '-', '#' char or be empty":"Es kann nicht '-', '#' benutzt werden oder leer sein",
"cannot have '-', 'e' char or be empty":"Es kann nicht '-', 'e' benutzt werden oder leer sein",
"Failed:":"Gescheitert:",
"File config / config.txt not found!":"Datei config / config.txt nicht gefunden!",
"File name cannot be empty!":"Dateiname kann nicht leer sein!",
"Value must be ":"Wert muss sein ",
"Value must be between 0 degres and 999 degres !":"Wert muss zwischen 0 Grad und 999 Grad liegen !",
"Value must be between 0% and 100% !":"Wert muss zwischen 0% und 100% liegen !",
"Value must be between 25% and 150% !":"Wert muss zwischen 25% und 150% liegen !",
"Value must be between 50% and 300% !":"Wert muss zwischen 50% und 300% liegen !",
"XY feedrate value must be between 1 mm/min and 9999 mm/min !":"XY Vorschubgeschwindigkeit muss zwischen 1mm/min und 9999 mm/min liegen !",
"Z feedrate value must be between 1 mm/min and 999 mm/min !":"Z Vorschubgeschwindigkeit muss zwischen 1mm/min und 999 mm/min liegen !",
" seconds":" Sekunden",
"Abort":"Abbruch",
"auto-check every:":"Automatischer Check jede:",
"auto-check position every:":"Automatischer Check der Position jede:",
"Autoscroll":"Autoscrollen",
"Bed":"Heizbett",
"Board":"Board",
"Busy...":"Ausgelastet...",
"Camera":"Kamera",
"Cancel":"Stornieren",
"Cannot get EEPROM content!":"Kann EEPROM Inhalt nicht auslesen",
"Clear":"Saeubern",
"Close":"Schliessen",
"Color":"Farbe",
"Commands":"Kommandos",
"Communication locked by another process, retry later.":"Kommunikation ist gesperrt von einem anderen Prozess, später nochmal probieren.",
"Communication locked!":"Kommunikation gesperrt!",
"Communications are currently locked, please wait and retry.":"Kommunikation vorruebergehen gesperrt, bitte warten und wiederholen!",
"Confirm deletion of directory: ":"Bestätigen um das Verzeichnis zu löschen: ",
"Confirm deletion of file: ":"Bestätigen um die Datei zu löschen: ",
"Connecting ESP3D...":"Verbindungsaufbau ESP3D...",
"Connection failed! is your FW correct?":"Verbindung gescheitert! Firmware richtig ausgewählt?",
"Controls":"Steuerung",
"Credits":"ZU Verdanken",
"Dashboard":"Instrumententafel",
"Data mofified":"Daten geaendert",
"Do you want to save?":"Sollen gespeichert werden?",
"enable second extruder":"zweiten Extruder aktivieren",
"Error":"Fehler",
"ESP3D Filesystem":"ESP3D Dateisystem",
"ESP3D Settings":"ESP3D Einstellungen",
"ESP3D Status":"ESP3D Status",
"ESP3D Update":"ESP3D Aktualisierung",
"Extrude":"Extruieren",
"Extruder T0":"Extruder T0",
"Extruder T1":"Extruder T1",
"Extruders":"Extruder",
"Fan (0-100%)":"Luefter (0-100%)",
"Feed (25-150%)":"Vorschub (25-150%)",
"Feedrate XY:":"Vorschubgeschwindigkeit XY:",
"Filename":"Dateiname",
"Filter temperatures":"Filter Temperatur",
"Firmware":"Firmware",
"Flow (50-300%)":"Fluss (50-300%)",
"Heater T0":"Heizer T0",
"Heater T1":"Heizer T1",
"Help":"Hilfe",
"Icon":"Symbol",
"Interface":"Schnittstelle",
"Join":"Verbinden",
"Label":"Beschriftung",
"List of available Access Points":"Liste der verfügbaren Zugangspunkte",
"Macro Editor":"Marco Editor",
"mm":"mm",
"mm/min":"mm/min",
"Motors off":"Motor aus",
"Name":"Name",
"Name:":"Name:",
"Network":"Netzwerk",
"No SD card detected":"Keine SD Karte gefunden",
"No":"Nein",
"Occupation:":"Belegt",
"Ok":"Ok",
"Options":"Optionen",
"Out of range":"Ausser Reichweite",
"Please Confirm":"Bitte Bestaetigen",
"Please enter directory name":"Bitte Verzeichnisname eingeben",
"Please wait...":"Bitte warten...",
"Printer configuration":"Drucker Konfiguration",
"Printer":"Drucker",
"Progress":"Fortschritt",
"Protected":"Gesichert",
"Refresh":"Aktualisiert",
"Restart ESP3D":"ESP3D Neustarten",
"Restarting ESP3D":"ESP3D neustartend",
"Restarting":"Neustartend",
"Restarting, please wait....":"Neustart, bitte warten...",
"Retry":"Wiederholen",
"Reverse":"Stornieren",
"Save macro list failed!":"Speichern der Marcoliste fehlgeschlagen!",
"Save":"Gespeichert",
"Saving":"Speichernd:",
"Scanning":"Scannend",
"SD Files":"SD Karten Dateien",
"sec":"sek",
"Send Command...":"Kommando gesendet...",
"Send":"Senden",
"Set failed":"Setzen gescheitert",
"Set":"Enregister",
"Signal":"Signal",
"Size":"Groesse",
"SSID":"SSID",
"Target":"Ziel",
"Temperatures":"Temperatur",
"Total:":"Total:",
"Type":"Typ",
"Update Firmware ?":"Firmware updaten ?",
"Update is ongoing, please wait and retry.":"Update ist im Gange, bitte warten und später versuchen.",
"Update":"Update",
"Upload failed : ":"Hochladen gescheitert",
"Upload failed":"Hochladen gescheitert",
"Upload":"Hochladen",
"Uploading ":"Hochladend ",
"Upload done":"Hochladen beendet",
"Used:":"Benutzt:",
"Value | Target":"Wert | Ziel",
"Value":"Wert",
"Wrong data":"Falsche Daten",
"Yes":"Ja"
};
//removeIf(production)
var translated_list=[];
//endRemoveIf(production)

function translate_text(lang){
    var currenttrans ={};
    var translated_content="";
     store_localdata('language',lang);
    language = lang;
    if (lang == 'fr') {
        currenttrans = frenchtrans;
        document.getElementById("translate_menu").innerHTML='Fran&ccedil;ais';
    }
    else if (lang == 'sp'){
        currenttrans = spanishtrans
        document.getElementById("translate_menu").innerHTML='Espa&ntilde;ol';
        }
    else if (lang == 'de'){
        currenttrans = germantrans
        document.getElementById("translate_menu").innerHTML='deutsch';
        }
    else {
         document.getElementById("translate_menu").innerHTML='English';
    }
    var All = document.getElementsByTagName('*');
    for (var i = 0; i < All.length; i++)       {
    if (All[i].hasAttribute( 'translate')) {
        var content= "";
        if (!All[i].hasAttribute( 'english_content')) {
         content = All[i].innerHTML;
        content.trim();
        All[i].setAttribute( 'english_content', content);
        //removeIf(production)        
        var item = {content:content};
        translated_list.push(item);
        //endRemoveIf(production)
        }
        content = All[i].getAttribute('english_content');
        translated_content = translate_text_item(content); 

        All[i].innerHTML = translated_content;
         }
    //add support for placeholder attribut
    if (All[i].hasAttribute( 'translateph') && All[i].hasAttribute( 'placeholder') ) {
        var content= "";
        if (!All[i].hasAttribute( 'english_content')) {
            content = All[i].getAttribute('placeholder');
            content.trim();
            //removeIf(production) 
            var item = {content:content};
            translated_list.push(item);
            //endRemoveIf(production)
            All[i].setAttribute( 'english_content', content);
            }
         content = All[i].getAttribute('english_content');
           
         translated_content = translate_text_item(content); 
        All[i].setAttribute( 'placeholder', translated_content)
        }
     }
};

function translate_text_item( item_text) {
    var currenttrans ={};
    var translated_content;
     if (language== 'fr') {
        currenttrans = frenchtrans;
        document.getElementById("translate_menu").innerHTML='Fran&ccedil;ais';
    }
    else if (language == 'sp'){
        currenttrans = spanishtrans
        document.getElementById("translate_menu").innerHTML='Espa&ntilde;ol';
        }
     else if (language == 'de'){
        currenttrans = germantrans
        document.getElementById("translate_menu").innerHTML='Deutsch';
}
    if (language == 'en')  translated_content = item_text;
    else translated_content = currenttrans[item_text];
    if (typeof translated_content === 'undefined' ) translated_content = item_text;
    return translated_content;
}
